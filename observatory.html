<!DOCTYPE html>
<html>
    <head>
    	<title>Remote Telescope Observatory</title>

        <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Playfair+Display&display=swap" rel="stylesheet">

    	<link href="css/style-pages.css" rel="stylesheet">
    </head>

    <body>
    	<header>
    		<h1>Remote Telescope Observatory</h1>        
    	</header>

        <!-- NAV BAR links -->
        <nav class="nav">
            <ul> 
                <li><a href="index.html">Home</a></li>
                <li><a href="Off-grid-solar.html">Off-Grid-Solar</a></li>
                <li><a href="astro-images.html">Astro-Images</a></li>
                <li><a href="game_landing.html">Games</a></li>
            </ul>
        </nav> 

        <h3>In the beginning there was light and it was good</h3>

        <p> A few years ago I started paying closer attention to the man-made satellites that constantly pass overhead especially the International Space Station. I made a daily ritual of running outside to observe an Iridium flare or ISS passage. I bought an 8-inch Newtonian telescope on a Dobsonian base which had to be guided by hand. I familiarized myself with the night sky and began to understand the motions of the planets and our moon. I was mesmerized by the images from the Hubble telescope, but I also found that people were taking amazing pictures in their backyards. I decided to try astrophotography which is a vast world unto itself. In January of 2018 I got a motorized German equatorial telescope mount which can compensate for the earth’s rotation by keeping a telescope pointed at a celestial object for a long time allowing long exposure photography.<br><br>
        The learning curve is steep but I continued to bite off small tasks and add them to the list of operations necessary to take good pictures of faint objects. Reaching the limits of the mount and it’s celestial model I had to find a way to keep the scope from straying slowly off of its target during a long exposure. I attached a small secondary telescope and camera to the side of and parallel with the primary scope with the sole purpose of guiding the primary scope. The second camera looks through the secondary scope at a chosen star near the intended target. As that star moves across the pixels of the camera sensor a correction can be calculated by the computer to point the primary scope back at the target to an accuracy of a few pixels. I was trying to automate each task that had to be tended to throughout the night when I could be sleeping.<br><br>
        I made several trips to dark sites where imaging is vastly improved due to the lack of light pollution. I had a vision of leaving my telescope at a very dark site at high elevation to gather many hours of data. This improves the signal to noise ratio of the final image and counteracts the effects of light pollution and atmospheric turbulence.<br><br>
        I decided to build a remote observatory and eventually place it near the top of the Mogollon rim in Arizona. This would require mastery of many aspects of astrophotography. With the system located a few hundred miles away it would have to be extremely reliable in its operation. I started with a prototype observatory structure in my back yard. This had the added benefit of saving me a lot of time. Each night that I got the telescope out before the observatory I would spend an hour setting it up and getting it aligned and calibrated before it could take its first image. Leaving the scope in the observatory I can now open the roof and have the scope imaging in under 5 minutes. It also provided a platform for me to test many new ideas. Even with the scope stored in the observatory I would have to go out and manually focus it each night as temperature cycles shift the mechanical parts away from focus.</p>

        <h3>Autofocus</h3>

        <p>Autofocus would be my next big task to deal with. I searched for an autofocus system at a reasonable price but was not satisfied. I have approached this entire hobby on an extreme budget and have bought all of my gear used or built it myself when possible. The cheapest autofocus system I found was over $500 which simply gave me a target to beat in building my own. These systems couple a stepper motor to the shaft of the focuser. I initially mounted a NEMA 17 motor to my focus shaft with some pieces of wood and zip ties. It was soon evident that this configuration did not produce enough torque and once a stepper motor skips a step its position is no longer known, which is unacceptable in this application. I got a more expensive NEMA 17 motor with 5 to 1 planetary gear reduction for $45. Now I would have to mount it to the focuser body with minimal deflection. Unable to find an available mounting solution I chose to create my own motor mount as the focuser body is a somewhat complex shape. I bought a 3D printer for $220 and got a student version of Fusion 360, a 3D CAD CAM tool. In designing multiple versions of the motor mount I taught myself to use Fusion 360 and learned how to operate the 3D printer. In addition to the motor mount I created an adapter plate with recessed bolt patterns on both sides to move the motor as close to the center of the focuser body as possible in order to reduce rotational torque on the telescope, which could potentially introduce a new tracking error. After printing several iterations of the motor mount, and improving it incrementally, I reached an acceptable prototype and proceeded to mount it. Next, I would have to remotely control the stepper motor to focus the telescope. Through extensive communication with local astronomers and online research I learned from the mistakes of others who have tried to solve this same problem. I used a DRV8825 stepper motor driver and an Arduino Nano to interface with the programs that would control the overall telescope operation.<br><br>
        A series of calculations have to be performed for the auto focuser to work. A relationship between one rotation of the focus shaft and the corresponding change in the position of the focus tube and camera sensor had to be determined. My focuser has a travel of 35.8mm over 1.9 revolutions yielding 18.8mm or 18,800 microns per revolution. The stepper motor moves through 200 steps per revolution and the gear reduction is 5.18 to 1 resulting in 1036 steps per revolution. My telescope has a focal ratio of F7 meaning that the image plane is in focus when it is 7 times the diameter of the primary objective behind that objective lens. The product of the square of the focal ratio and a constant indicates a critical focus zone. The critical focus zone was found to be (7^2)(2.2) = 107.8 microns. Ideally there will be at least ten motor steps within this critical focus zone to allow the resolution necessary to reliably achieve a sharp focus. Using the above parameters results in 18,800/1036 = 18.1 microns of travel per motor step. The critical focus zone divided by the travel of each step gives 107.8/18.1 ~ 5.9 motor steps inside of the critical focus zone. This probably would have worked but I wanted more resolution, so I dug into the stepper motor driver. As the stepper motor alternates between its two phases one step of the stator occurs but partial steps can be achieved if both phases are energized simultaneously between whole steps. If the motor is moved in half step increments 2072 steps per revolution occur and thus there are ~ 11.9 motor steps inside the critical focus zone.<br><br>
        The downside of running a stepper motor at partial steps is that when energizing both fields simultaneously the current draw is increased, so a larger power supply is required. Increasing the voltage supplied has little effect on the current draw through the DRV8825 motor driver but it does increase the holding torque of the motor. I am currently supplying 36 volts to the driver using a discarded laptop power supply. I have found this to produce sufficient torque to hold the camera and focus assembly in the desired focus position while the scope is pointed at the zenith where the force of gravity is parallel to the axis of the focus tube. 
        A manual focus is performed using a diffraction pattern known as a Bahtinov mask and the position of the focuser and the stepper motor is recorded. All of this information is used to create a program that achieves focus. The focusing routine moves the camera sensor down (toward the ground) and then up to a position 5 steps outside of the known focus point to remove any backlash in the system. The camera then takes a picture and the radius of the 100 brightest stars in the image are measure and averaged. The stepper motor is then moved one step in the direction of expected focus and another picture is taken and an average radius calculated. Star radii will be smallest at the point of optimal focus. This process is repeated ten times intentionally passing the expected point of focus. These values are plotted on a graph of motor position versus average star radius known as Half Flux Radius. Two trend lines should emerge from the data points unless atmospheric conditions prevent an accurate measurement. The point where these two trend lines intersect indicates the motor position corresponding with optimal focus and the motor is commanded to move there.</p>

        <img src="img/observatory/obs-autofocus-graph.jpg" rel="A graph with two trend lines from my telescope autofocus" style="width: 85%; height: auto; margin-left: 75px; margin-right: auto;">

        <p>Now that I have this device and the routine that controls it working smoothly autofocus it is just an item on the list that I run each night before I start imaging. There are two major benefits to this automated approach. The goal was to operate the telescope remotely and I can execute this auto focus process through an internet connection. Secondly, I suspect that I am now achieving a more precise focus than I ever could with my hands and eyes.<br><br>
        When the system is running smoothly I have at least 6 programs running and communicating with each other simultaneously through a system called ASCOM on a windows computer. ASCOM stands for the Astronomy Common Object Model and it allows compatibility between astronomy software and astronomical instruments. I have purchased some of this software and some of it is free or open source. The code that controls the stepper motor and interfaces with Sequence Generator is based on the work of Robert Brown. I control the observatory computer and telescope remotely with screen sharing software. I have programmed an additional Arduino board connected to sensors and relays that operate the observatory. I pass values through the serial monitor to the Arduino and it controls a custom power strip with relays in series with devices to be controlled. I also receive data from a temperature and humidity sensor to calculate dew point. I have placed heating elements around the primary and secondary objective lenses to prevent condensation from forming on them.<br><br>
        From my backyard in Phoenix there is considerable light pollution and an LED streetlight stands above my observatory which emits light throughout the visible spectrum. After collecting hours of data over several nights I then select the best 70% of those images by measuring the roundness of the stars in each image and throwing out exposures that aircraft had flown through. Those 70% are then stacked into one composite image and further edited in Photoshop. All of these elaborate steps are necessary to combat light pollution and increase the signal to noise ratio of the final product. I collected 18 hours of data of M33 from my backyard, the same image could be acquired from a dark site at high elevation in roughly 10 minutes. I continue to refine my observatory system and I hope to move it to the dark site this summer. From the dark site 18 hours of data on this same object would reveal spectacular detail that compels me to see this tedious process to completion.
        </p>
       

        <!-- 
            The image below is a close neighboring galaxy to the milky way known as Triangulum or M33 roughly 2.5 million light years away. 
            I collected around 18 hours worth of 60 second exposures over a period of one week. I would acquire between 2 and 3 hours of data each night while the Triangulum galaxy was directly overhead so as to image through the least amount of atmosphere.


            <h2>Some time after getting my first newtonian telescope and then a german equitorial mount I wanted to reduce the time it took to set the gear up each night. As my rig got more complex it would take close to an hour to bring it outside and set it up. I started by building a simple shed that could swing the roof open. Once that was in place and able to protect its contents I was able to get the scope running withing 5 or 10 minutes of opening the roof each night.</h2> -->

    </body>
</html>